- defaults:
    link:
      relink: true
    shell:
      stdout: true
      stderr: true

- clean:
    ~/:
      force: true
    ~/.config:
      recursive: true

- create:
    - ~/.dotbot-git

- brewfile:
    - Brewfile

# Powerline fonts
- git:
    ~/.dotbot-git/fonts:
        url: git@github.com:powerline/fonts.git
        description: Powerline fonts

- shell:
  - [cd ~/.dotbot-git/fonts && ./install.sh, "Install Powerline fonts"]

# Install Fish and Oh My Fish
# Fish and Oh My Fish depends on Conda and Java
- link:
    ~/.config/fish/config.fish:
      path: fish/config.fish
      force: true
      create: true
    ~/.config/fish/functions/:
      path: fish/functions/*
      create: true
      glob: true
    ~/.config/omf:
      path: omf

- git:
    ~/.dotbot-git/oh-my-fish:
        url: git@github.com:oh-my-fish/oh-my-fish.git
        description: Oh my fish

# - shell:
#     - [cd ~/.dotbot-git/oh-my-fish && bin/install --offline, Install Oh My Fish]
#     - [omf install, Install Oh My Fish plugins]
#     - [omf reload, Reload Oh My Fish]

# Karabiner elements config
# Karabiner doesn't like direct linking of config file, instead we should symlink a directory
- link:
    ~/.config/karabiner:
      path: karabiner
      force: true
      create: true


# Tmux
- link:
    ~/.config/tmux/tmux.conf:
      path: tmux/tmux.conf
      force: true
      create: true